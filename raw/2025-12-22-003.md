# Brain Dump

date: 2025-12-22
tags: nedl, brett, data-modeling, entity-resolution, scd-type-2, dimensional-model, cherre, yardi, nmhc

---

## Call with Brett - Data Modeling Discussion

### Open Questions
1. **Relationships between identifiers:**
   - tax_assessor_id, owner_id, cherre_owner_pk in cherre_owner_unmasked
   - Need to understand ALL fields, their relationships
   - How do Cherre, Yardi, NMHC relate? What fields in common?
   - Timeliness expectations? What guarantees on data quality?

2. **Cherre recorder_v2 data:**
   - Has grantor, grantee, etc.

### Domain Concepts (Identifiers & Attributes)

**Property Identifiers:**
- tax_assessor_id (parcel_id)
- property address
- YA property name

**Transaction Identifiers:**
- recorder_id (transaction id)
- Transaction Date
- Record Created At Timestamp

**Party Identifiers (the hard part):**
- grantor (seller in transaction)
- grantee (buyer in transaction)
- buyer name
- seller name
- mailing address
- owner_id
- cherre_owner_pk

### Expected Relationships (Need Verification)
- **1 recorder_id : 1 tax_assessor_id** (need to verify)
- **1 recorder_id : 1 grantor + 1 grantee** (could be null, need to verify)
- **1 recorder_id : 1 buyer name + 1 seller name** (could be null)
- **1 recorder_id : 1 property address**

### Entity Resolution Challenges
1. **Large entities â†’ many LLCs**
   - Large player might have 1000+ LLCs they operate under
   - Each LLC could have different address
   - OR many LLCs share same mailing address (problem for naive matching)

2. **Changes over time**
   - Names change
   - Addresses change
   - LLC structures change
   - **MUST be SCD Type 2** (track history)

### Next Step
Need to design dimensional data model for:
1. Properties (with history)
2. Entities/Owners (with history) - the complex one
3. Transactions (facts)
4. Relationships between them

Facts (transaction data) to come after dimensions are modeled.

